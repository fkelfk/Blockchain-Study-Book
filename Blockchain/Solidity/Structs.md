## Structs

<br>

_Structs?_

> 구조체는 다양한 데이터 유형의 변수를 하나의 변수 또는 사용자 정의 유형으로 묶을 수 있는 솔리디티의 데이터 구조 형식입니다.

<br>

##### 구조체란?

---

구조체는 다양한 데이터 유형의 변수를 하나의 변수 또는 사용자 정의 유형으로 묶을 수 있는 솔리디티의 데이터 구조 형식입니다. 데이터 유형이 구조체로 그룹화되면 구조체 이름은 그 안에 있는 변수의 하위 집합을 나타냅니다.

구조체를 다양한 유형의 객체가 들어 있는 컨테이너라고 생각하면 컨테이너를 이동하면 그 안에 있는 모든 항목도 함께 이동합니다. 따라서 솔리디티 개발자가 구조체의 이름을 선언하거나 호출하면 구조체는 그 안에 있는 데이터 유형에 따라 응답합니다.

<br>

<br>

#### 구조체 생성하기

---

구조체 코드는 자바스크립트에서 객체 선언이 작동하는 방식과 유사합니다. 겉모습은 비슷하지만 구문은 다르게 작동합니다.

솔리디티 구조체는 항상 다음과 같은 형식입니다.

```solidity
struct name {
 	string theWord;
    uint theFigure;
    bool polar;
}
```

1. 구조체 키워드를 작성하여 구조체를 생성하면 솔리디티 컴파일러에 앞의 유형이 커스텀 유형임을 알립니다.
2. 구조체의 패킹된 변수를 공동 참조할 구조체의 이름을 지정합니다.
3. 상자나 둥근 대괄호와 같은 다른 형태의 대괄호는 컴파일되지 않으므로 중괄호를 사용하세요.
4. 데이터 유형을 해당 변수와 함께 선언합니다.

위의 예제에서는 문자열 theWord, 정수 theFigure, 부울 polarData를 선언했습니다. 여기서 구조체의 하위 집합을 선언할 수 있습니다. 스마트 컨트랙트에서 구조체를 선언한 후에는 코드 후반부에서 구조체의 이름을 호출할 수 있습니다.

#### 구조체 선언하기

---

구조체를 선언할 수 있는 곳은 계약 내부 또는 계약 외부 두 곳입니다. Solidity 구조체를 선언할 위치를 아는 것은 수행하려는 작업에 따라 다릅니다. 구조체 선언의 두 가지 옵션을 살펴보겠습니다.

##### 외부에 선언

```solidity
pragma solidity ^0.8.16;

struct floorOverlay {
    string carpet;
    string rug;
}
```

위의 예시에서는 스마트 컨트랙트 외부에 floorOverlay 구조체를 선언했고, 코드베이스의 모든 컨트랙트가 이를 호출할 수 있습니다. 스마트 컨트랙트 외부에서 구조체를 선언하는 것이 개별 컨트랙트 전용 구조체가 있을 수 있는 개별 컨트랙트와 달리 모든 컨트랙트에 더 적용 가능한 구조체를 생성하는 데 가장 좋습니다.

##### 내부에 선언

---

```solidity
contract CarpetContract{

// this struct is declared within this contract
		struct carpet{
  			string name;
        uint length;
        uint breadth;
        bool shipped;
     }
}
```

위 구조체는 스마트 계약 내에 있으며, 결과적으로 구조체의 기능은 현재 계약으로 제한됩니다. 다른 어떤 계약도 이 구조체를 호출할 수 없습니다.

##### 구조체 가져오기

---

구조체는 한 스마트 계약에서 다른 스마트 계약으로 가져올 수 있어 개발자가 시간을 절약하고 재사용 가능한 코드를 만드는 데 도움이 됩니다. 구조를 가져오는 방법을 보여주기 위해, 아래는 두 가지 스마트 계약입니다: 하나는 구조체가 생성된 곳이고, 다른 하나는 가져올 곳입니다.

```
pragma solidity ^0.8.16;

contract A {
    struct vaccine {
        string name;
        uint id;
        bool vaccinated;
    }
}
```

가져오는 동안 피해야 할 오류가 있습니다: 두 번째 계약의 이름은 가져오려는 구조체의 이름이어야 합니다. 그렇지 않으면, 솔리디티 컴파일러는 그것을 식별할 수 없습니다.

```
pragma solidity ^0.8.16;

import "./struct.sol";

contract Vaccine {
    Vaccine public drug;
}

```

<br>

<br>

<br>

##### [참고 자료]

- [Learn Solidity: What is a struct?](https://www.alchemy.com/overviews/solidity-struct)

